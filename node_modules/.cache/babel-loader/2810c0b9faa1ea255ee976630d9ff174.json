{"ast":null,"code":"import _objectSpread from\"C:/Users/parikshit/Desktop/CloudProject/netlify/project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _toConsumableArray from\"C:/Users/parikshit/Desktop/CloudProject/netlify/project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _classCallCheck from\"C:/Users/parikshit/Desktop/CloudProject/netlify/project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/Users/parikshit/Desktop/CloudProject/netlify/project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"C:/Users/parikshit/Desktop/CloudProject/netlify/project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/Users/parikshit/Desktop/CloudProject/netlify/project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import{jsx as _jsx}from\"react/jsx-runtime\";import{createContext,Component}from'react';import stockList from'../stocklist';import axios from'axios';export var StockContext=/*#__PURE__*/createContext();var StockContextProvider=/*#__PURE__*/function(_Component){_inherits(StockContextProvider,_Component);var _super=_createSuper(StockContextProvider);function StockContextProvider(){var _this;_classCallCheck(this,StockContextProvider);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={stockData:[],portfolioData:[]};_this.addToPortfolio=function(stockList){var stocklist=[].concat(_toConsumableArray(_this.state.portfolioData),[stockList]);_this.setState({portfolioData:stocklist});};_this.deleteFromPortfolio=function(stock){// \n};return _this;}_createClass(StockContextProvider,[{key:\"componentDidMount\",// Fetching data from NSE API\nvalue:function componentDidMount(){var _this2=this;var stockdata=[];stockList.forEach(function(onesymbol){axios.get(\"http://localhost:5000/nse/get_quote_info?companyName=\"+onesymbol).then(function(res){var obj=_objectSpread({symbol:onesymbol},res.data.data[0]);stockdata.push(obj);_this2.setState({stockData:[].concat(_toConsumableArray(_this2.state.stockData),[obj])});}).catch(function(err){console.log(err);});});// setTimeout(() => {\n//   this.componentDidMount();\n//   console.log(\"API IS FETCHING DATA EVERY 4 SECOND...\")\n// }, 4000);\n}// The States\n},{key:\"render\",value:function render(){return/*#__PURE__*/_jsx(StockContext.Provider,{value:_objectSpread(_objectSpread({},this.state),{},{addToPortfolio:this.addToPortfolio,deleteFromPortfolio:this.deleteFromPortfolio}),children:this.props.children});}}]);return StockContextProvider;}(Component);export default StockContextProvider;","map":{"version":3,"sources":["C:/Users/parikshit/Desktop/CloudProject/netlify/project/src/contexts/stockContext.js"],"names":["createContext","Component","stockList","axios","StockContext","StockContextProvider","state","stockData","portfolioData","addToPortfolio","stocklist","setState","deleteFromPortfolio","stock","stockdata","forEach","onesymbol","get","then","res","obj","symbol","data","push","catch","err","console","log","props","children"],"mappings":"sjCAAA,OAASA,aAAT,CAAwBC,SAAxB,KAAyC,OAAzC,CACA,MAAOC,CAAAA,SAAP,KAAsB,cAAtB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CAGA,MAAO,IAAMC,CAAAA,YAAY,cAAGJ,aAAa,EAAlC,C,GAEDK,CAAAA,oB,mXAqBJC,K,CAAQ,CACNC,SAAS,CAAE,EADL,CAINC,aAAa,CAAE,EAJT,C,OASRC,c,CAAiB,SAACP,SAAD,CAAe,CAC9B,GAAMQ,CAAAA,SAAS,8BAAO,MAAKJ,KAAL,CAAWE,aAAlB,GAAiCN,SAAjC,EAAf,CACA,MAAKS,QAAL,CAAc,CAACH,aAAa,CAAEE,SAAhB,CAAd,EACD,C,OACDE,mB,CAAsB,SAACC,KAAD,CAAW,CAC/B;AACD,C,2EAnCD;kCACoB,iBAClB,GAAMC,CAAAA,SAAS,CAAG,EAAlB,CACAZ,SAAS,CAACa,OAAV,CAAkB,SAAAC,SAAS,CAAI,CAC7Bb,KAAK,CAACc,GAAN,CAAU,wDAAwDD,SAAlE,EACCE,IADD,CACM,SAAAC,GAAG,CAAI,CACX,GAAMC,CAAAA,GAAG,gBAAIC,MAAM,CAAEL,SAAZ,EAA0BG,GAAG,CAACG,IAAJ,CAASA,IAAT,CAAc,CAAd,CAA1B,CAAT,CACAR,SAAS,CAACS,IAAV,CAAeH,GAAf,EACA,MAAI,CAACT,QAAL,CAAc,CAACJ,SAAS,8BAAM,MAAI,CAACD,KAAL,CAAWC,SAAjB,GAA4Ba,GAA5B,EAAV,CAAd,EACD,CALD,EAMCI,KAND,CAMO,SAAAC,GAAG,CAAI,CACZC,OAAO,CAACC,GAAR,CAAYF,GAAZ,EACD,CARD,EASD,CAVD,EAWA;AACA;AACA;AACA;AACD,CACD;uCAiBS,CACP,mBACE,KAAC,YAAD,CAAc,QAAd,EAAuB,KAAK,gCAAM,KAAKnB,KAAX,MAAkBG,cAAc,CAAE,KAAKA,cAAvC,CAAuDG,mBAAmB,CAAE,KAAKA,mBAAjF,EAA5B,UACG,KAAKgB,KAAL,CAAWC,QADd,EADF,CAKD,C,kCA3CgC5B,S,EA8CnC,cAAeI,CAAAA,oBAAf","sourcesContent":["import { createContext, Component } from 'react'\r\nimport stockList from '../stocklist'\r\nimport axios from 'axios';\r\n\r\n\r\nexport const StockContext = createContext();\r\n\r\nclass StockContextProvider extends Component {\r\n  // Fetching data from NSE API\r\n  componentDidMount() {\r\n    const stockdata = []\r\n    stockList.forEach(onesymbol => {\r\n      axios.get(\"http://localhost:5000/nse/get_quote_info?companyName=\"+onesymbol)\r\n      .then(res => {\r\n        const obj = {symbol: onesymbol, ...res.data.data[0]};\r\n        stockdata.push(obj);\r\n        this.setState({stockData: [...this.state.stockData, obj]});\r\n      })\r\n      .catch(err => {\r\n        console.log(err)\r\n      })\r\n    })\r\n    // setTimeout(() => {\r\n    //   this.componentDidMount();\r\n    //   console.log(\"API IS FETCHING DATA EVERY 4 SECOND...\")\r\n    // }, 4000);\r\n  }\r\n  // The States\r\n  state = { \r\n    stockData: [\r\n      \r\n    ],\r\n    portfolioData: [\r\n      \r\n    ]\r\n  }\r\n  // Functionalities to add or delete from portfolio\r\n  addToPortfolio = (stockList) => {\r\n    const stocklist = [...this.state.portfolioData, stockList];\r\n    this.setState({portfolioData: stocklist});  \r\n  }\r\n  deleteFromPortfolio = (stock) => {\r\n    // \r\n  }\r\n  render() { \r\n    return (\r\n      <StockContext.Provider value={{...this.state, addToPortfolio: this.addToPortfolio, deleteFromPortfolio: this.deleteFromPortfolio}}>\r\n        {this.props.children}\r\n      </StockContext.Provider>\r\n    );\r\n  }\r\n}\r\n \r\nexport default StockContextProvider;"]},"metadata":{},"sourceType":"module"}